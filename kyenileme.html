<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatiple" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <title>PERSONEL KART YENİLEME</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-flags.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-payments.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler-vendors.min.css">   
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link rel="stylesheet" href="./static/css/style.css">
        <script src="./static/js/languageManager.js"></script>
        <script src="./static/js/navbar.js" defer></script>
        <script src="./static/js/contentManager.js" defer></script>
        <script src="./static/js/footer.js"></script>
    </head>
    <body class="layout-boxed">
        <div class="page">
            <div id="navbar"></div>
            <div class="page-wrapper">
                <div class="page-body">
                    <div class="container-xl">
                        <div class="row row-cards">
                            <div class="col-md-12">
                                <div id="page-content"></div>
                                <a id="download-file" href="" download class="btn btn-success w-100 mt-5">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                        <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />
                                        <polyline points="7 11 12 16 17 11" />
                                        <line x1="12" y1="4" x2="12" y2="16" />
                                    </svg>
                                    İndir
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="footer"></div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/js/tabler.min.js"></script>
        <script>
            const team_data1 = [
                {name: 'Furkan Suzan', email: 'furkan.suzan@t2ic.com', phone: '0542 699 63 62'},
                {name: 'İ.AHMET TEZEL', email: 'ahmet.tezel@t2ic.com', phone: '0538 640 2505'},
                {name: 'GURBAN NAGHİYEV', email: 'gurban.naghiyev@t2ic.com', phone: '0537 300 2813'},
                {name: 'U.CEM KÜÇÜK', email: 'U.CEM KÜÇÜK', phone: '0505 078 9569'}
            ];
    
            const team_data2 = [
                {name: 'Belkız Yıldız', email: 'belkiz.yildiz@tsm-enerji.com', phone: '0546 960 66 62'},
                {name: 'Murat Cak', email: 'murat.cak@tsm-enerji.com', phone: ''},
                {name: 'Elvan Savran', email: 'elvan.savran@tsm-enerji.com', phone: ''},
                {name: 'Selin Ateş', email: 'selin.ates@tsm-enerji.com', phone: ''}
            ];
    
            const team_data3 = [
                {name: 'Ramazan Zengin', email: 'ramazan.zengin@ictasnukleer.com.tr', phone: '0553 585 53 03'},
                {name: 'Süleyman Zengin', email: 'suleyman.zengin@ictasnukleer.com.tr', phone: '0552 621 02 07'}
            ];
    
            function createTeamTable(data) {
                let table = '<table class="table"><thead><tr><th scope="col">Ad Soyad</th><th scope="col">Mail</th><th scope="col">Telefon No</th></tr></thead><tbody>';
                data.forEach(item => {
                    table += `<tr><td>${item.name}</td><td><a href="mailto:${item.email}">${item.email}</a></td><td><a href="tel:${item.phone}">${item.phone}</a></td></tr>`;
                });
                table += '</tbody></table>';
                return table;
            }
    
            document.getElementById('team1').innerHTML = createTeamTable(team_data1);
            document.getElementById('team2').innerHTML = createTeamTable(team_data2);
            document.getElementById('team3').innerHTML = createTeamTable(team_data3);
        </script>
        <script>
            document.getElementById("download-file").addEventListener("click", function(event) {
                event.preventDefault();
                
                const files = [
                    './static/data/Personel Giriş Örnek.xlsm',
                    './static/data/KAYIP KART TUTANAGI - RUSÇA.docx',
                    './static/data/KAYIP KART TUTANAGI - TURKİYE.docx',
                ];
        
                files.forEach((file, index) => {
                    setTimeout(() => {
                        const a = document.createElement("a");
                        a.href = file;
                        a.setAttribute("download", file.substring(file.lastIndexOf("/") + 1)); // Dosya ismini sadece al
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                    }, index * 500); // Dosyalar arka arkaya indirilsin
                });
            });
        </script>        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const accordionItems = document.querySelectorAll('.accordion-collapse');
                
                accordionItems.forEach(item => {
                    item.addEventListener('shown.bs.collapse', function () {
                        setTimeout(() => {
                            this.closest('.accordion-item')
                                .querySelector('.accordion-header')
                                .scrollIntoView({
                                    behavior: 'smooth', 
                                    block: 'start'
                                });
                        }, 100);
                    });
                });
            });
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                let lang = localStorage.getItem('language') || 'tr'; // Varsayılan dil Türkçe
                loadPageContent('kyenileme', lang); // İçeriği yükle
            });
        </script>
    </body>
</html>